
//const inp = "512,137 -> 522,137\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n514,162 -> 514,165 -> 513,165 -> 513,171 -> 526,171 -> 526,165 -> 519,165 -> 519,162\n507,50 -> 507,53 -> 501,53 -> 501,59 -> 516,59 -> 516,53 -> 511,53 -> 511,50\n530,159 -> 534,159\n472,109 -> 472,110 -> 488,110 -> 488,109\n481,88 -> 485,88\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n514,162 -> 514,165 -> 513,165 -> 513,171 -> 526,171 -> 526,165 -> 519,165 -> 519,162\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n478,85 -> 482,85\n494,32 -> 498,32\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n488,32 -> 492,32\n494,28 -> 498,28\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n485,34 -> 489,34\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n491,26 -> 495,26\n484,85 -> 488,85\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n472,109 -> 472,110 -> 488,110 -> 488,109\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n507,50 -> 507,53 -> 501,53 -> 501,59 -> 516,59 -> 516,53 -> 511,53 -> 511,50\n491,34 -> 495,34\n498,121 -> 498,122 -> 509,122 -> 509,121\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n507,50 -> 507,53 -> 501,53 -> 501,59 -> 516,59 -> 516,53 -> 511,53 -> 511,50\n484,79 -> 488,79\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n507,125 -> 507,127 -> 505,127 -> 505,134 -> 514,134 -> 514,127 -> 513,127 -> 513,125\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n475,88 -> 479,88\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n507,125 -> 507,127 -> 505,127 -> 505,134 -> 514,134 -> 514,127 -> 513,127 -> 513,125\n514,162 -> 514,165 -> 513,165 -> 513,171 -> 526,171 -> 526,165 -> 519,165 -> 519,162\n514,162 -> 514,165 -> 513,165 -> 513,171 -> 526,171 -> 526,165 -> 519,165 -> 519,162\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n507,50 -> 507,53 -> 501,53 -> 501,59 -> 516,59 -> 516,53 -> 511,53 -> 511,50\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n482,32 -> 486,32\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n499,62 -> 499,66 -> 495,66 -> 495,70 -> 510,70 -> 510,66 -> 503,66 -> 503,62\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n472,91 -> 476,91\n488,28 -> 492,28\n507,125 -> 507,127 -> 505,127 -> 505,134 -> 514,134 -> 514,127 -> 513,127 -> 513,125\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n477,119 -> 482,119\n524,159 -> 528,159\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n497,34 -> 501,34\n481,82 -> 485,82\n498,121 -> 498,122 -> 509,122 -> 509,121\n490,115 -> 495,115\n487,82 -> 491,82\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n518,159 -> 522,159\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n499,62 -> 499,66 -> 495,66 -> 495,70 -> 510,70 -> 510,66 -> 503,66 -> 503,62\n503,34 -> 507,34\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n493,88 -> 497,88\n499,62 -> 499,66 -> 495,66 -> 495,70 -> 510,70 -> 510,66 -> 503,66 -> 503,62\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n514,162 -> 514,165 -> 513,165 -> 513,171 -> 526,171 -> 526,165 -> 519,165 -> 519,162\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n507,50 -> 507,53 -> 501,53 -> 501,59 -> 516,59 -> 516,53 -> 511,53 -> 511,50\n527,156 -> 531,156\n498,119 -> 503,119\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n500,32 -> 504,32\n487,88 -> 491,88\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n491,119 -> 496,119\n479,34 -> 483,34\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n499,62 -> 499,66 -> 495,66 -> 495,70 -> 510,70 -> 510,66 -> 503,66 -> 503,62\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n499,62 -> 499,66 -> 495,66 -> 495,70 -> 510,70 -> 510,66 -> 503,66 -> 503,62\n487,117 -> 492,117\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n496,91 -> 500,91\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n487,75 -> 487,76 -> 499,76 -> 499,75\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n484,91 -> 488,91\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n490,91 -> 494,91\n490,85 -> 494,85\n485,30 -> 489,30\n514,162 -> 514,165 -> 513,165 -> 513,171 -> 526,171 -> 526,165 -> 519,165 -> 519,162\n483,115 -> 488,115\n507,125 -> 507,127 -> 505,127 -> 505,134 -> 514,134 -> 514,127 -> 513,127 -> 513,125\n507,125 -> 507,127 -> 505,127 -> 505,134 -> 514,134 -> 514,127 -> 513,127 -> 513,125\n484,119 -> 489,119\n524,153 -> 528,153\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n491,30 -> 495,30\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n521,156 -> 525,156\n499,62 -> 499,66 -> 495,66 -> 495,70 -> 510,70 -> 510,66 -> 503,66 -> 503,62\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n486,113 -> 491,113\n497,30 -> 501,30\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n507,125 -> 507,127 -> 505,127 -> 505,134 -> 514,134 -> 514,127 -> 513,127 -> 513,125\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n514,162 -> 514,165 -> 513,165 -> 513,171 -> 526,171 -> 526,165 -> 519,165 -> 519,162\n519,150 -> 519,140 -> 519,150 -> 521,150 -> 521,140 -> 521,150 -> 523,150 -> 523,141 -> 523,150 -> 525,150 -> 525,142 -> 525,150\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n507,125 -> 507,127 -> 505,127 -> 505,134 -> 514,134 -> 514,127 -> 513,127 -> 513,125\n494,117 -> 499,117\n478,91 -> 482,91\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n472,109 -> 472,110 -> 488,110 -> 488,109\n499,62 -> 499,66 -> 495,66 -> 495,70 -> 510,70 -> 510,66 -> 503,66 -> 503,62\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n487,75 -> 487,76 -> 499,76 -> 499,75\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n507,50 -> 507,53 -> 501,53 -> 501,59 -> 516,59 -> 516,53 -> 511,53 -> 511,50\n468,47 -> 468,37 -> 468,47 -> 470,47 -> 470,37 -> 470,47 -> 472,47 -> 472,41 -> 472,47 -> 474,47 -> 474,39 -> 474,47 -> 476,47 -> 476,44 -> 476,47 -> 478,47 -> 478,45 -> 478,47 -> 480,47 -> 480,37 -> 480,47 -> 482,47 -> 482,40 -> 482,47 -> 484,47 -> 484,42 -> 484,47 -> 486,47 -> 486,38 -> 486,47\n480,117 -> 485,117\n494,23 -> 494,22 -> 494,23 -> 496,23 -> 496,17 -> 496,23 -> 498,23 -> 498,20 -> 498,23 -> 500,23 -> 500,14 -> 500,23 -> 502,23 -> 502,13 -> 502,23 -> 504,23 -> 504,15 -> 504,23\n498,121 -> 498,122 -> 509,122 -> 509,121\n487,75 -> 487,76 -> 499,76 -> 499,75\n507,50 -> 507,53 -> 501,53 -> 501,59 -> 516,59 -> 516,53 -> 511,53 -> 511,50\n462,104 -> 462,99 -> 462,104 -> 464,104 -> 464,98 -> 464,104 -> 466,104 -> 466,102 -> 466,104 -> 468,104 -> 468,97 -> 468,104 -> 470,104 -> 470,96 -> 470,104 -> 472,104 -> 472,99 -> 472,104 -> 474,104 -> 474,100 -> 474,104 -> 476,104 -> 476,96 -> 476,104 -> 478,104 -> 478,97 -> 478,104";

const inp = "Sensor at x=2, y=18: closest beacon is at x=-2, y=15\nSensor at x=9, y=16: closest beacon is at x=10, y=16\nSensor at x=13, y=2: closest beacon is at x=15, y=3\nSensor at x=12, y=14: closest beacon is at x=10, y=16\nSensor at x=10, y=20: closest beacon is at x=10, y=16\nSensor at x=14, y=17: closest beacon is at x=10, y=16\nSensor at x=8, y=7: closest beacon is at x=2, y=10\nSensor at x=2, y=0: closest beacon is at x=2, y=10\nSensor at x=0, y=11: closest beacon is at x=2, y=10\nSensor at x=20, y=14: closest beacon is at x=25, y=17\nSensor at x=17, y=20: closest beacon is at x=21, y=22\nSensor at x=16, y=7: closest beacon is at x=15, y=3\nSensor at x=14, y=3: closest beacon is at x=15, y=3\nSensor at x=20, y=1: closest beacon is at x=15, y=3";

const pairs = inp.split("\n").map(x => x.split(" ").filter((y, i) => [2, 3, 8, 9].includes(i)).map(z => parseInt(z.slice(2))));
console.log(pairs);

const row = 10;



function createFieldInteractor(pairs){

	// array of type [sXMin, sXMax, deltaBSXMax]
	const extremeX = pairs.reduce(
		(acc, x) => [Math.min(acc[0], x[0]), Math.max(acc[1], x[0]), Math.max(acc[2], Math.abs(x[2] - x[0]))],
	  [pairs[0][0], pairs[0][0], Math.abs(pairs[0][2] - pairs[0][0])]
	);
	// array of type [sYMin, sYMax, deltaBSYMax]
	const extremeY = pairs.reduce(
		(acc, x) => [Math.min(acc[0], x[1]), Math.max(acc[1], x[1]), Math.max(acc[2], Math.abs(x[3] - x[1]))],
	  [pairs[0][1], pairs[0][1], Math.abs(pairs[0][3] - pairs[0][1])]
	);

	let coverField = Array(extremeX[1] - extremeX[0] + 2 * extremeX[2]).fill(null).map(x => Array(extremeY[1] - extremeY[0] + 2 * extremeY[2]).fill("."));


	return {
		"getElement": function(x, y){
			return coverField[x + extremeX[2]][y + extremeY[2]];
		},
		"setElement": function(x, y, value){
			coverField[x + extremeX[2]][y + extremeY[2]] = value;
		},
		"length": coverField.length,
		"height": coverField[0].length,
		"minX": extremeX[0],
		"maxX": extremeX[1],
		"minY": extremeY[0],
		"maxY": extremeY[1],
	}
}


const fieldInteractor = createFieldInteractor(pairs);


for(let pair of pairs){

	const d = Math.abs(pair[2]-pair[0]) + Math.abs(pair[3] - pair[1]);

	for(let x = fieldInteractor.minX; x < fieldInteractor.maxX; x ++){
		if(Math.abs(x - pair[0]) + Math.abs(row - pair[1]) <= d){
			fieldInteractor.setElement(x, row, '#');
		}
	}
}




let count = 0;
for(let i = fieldInteractor.minX; i < fieldInteractor.maxX; i++){
	console.log(fieldInteractor.getElement(i, row), i);
	if(!(fieldInteractor.getElement(i, row) == '.')){
		count ++;
	}
}
console.log(count);



	